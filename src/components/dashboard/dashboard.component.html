
@if (user(); as currentUser) {
  <div class="space-y-8">
    <div class="p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
      <h1 class="text-3xl font-bold text-gray-900 dark:text-white">سلام، {{ currentUser.name }}!</h1>
      <p class="mt-2 text-lg text-gray-500 dark:text-gray-400">به پنل آموزشی خود خوش آمدید.</p>
    </div>

    @if (nextClass(); as upNext) {
    <div class="p-6 bg-blue-100 border border-blue-200 rounded-lg shadow dark:bg-blue-900/50 dark:border-blue-800">
      <h2 class="text-xl font-semibold text-blue-800 dark:text-blue-200 mb-3">کلاس بعدی شما:</h2>
      <div class="flex flex-col md:flex-row md:items-center md:justify-between">
        <div>
          <h3 class="text-2xl font-bold text-gray-900 dark:text-white">{{ upNext.courseTitle }} - {{ upNext.topic }}</h3>
          <p class="mt-2 text-md text-gray-600 dark:text-gray-300">
            <span class="font-semibold">استاد:</span> {{ upNext.instructor }}
          </p>
          <p class="mt-1 text-md text-gray-600 dark:text-gray-300">
            <span class="font-semibold">زمان:</span> {{ formatClassDate(upNext.dateTime) }}
          </p>
        </div>
        <a [href]="upNext.meetingLink" target="_blank" class="mt-4 md:mt-0 inline-flex items-center justify-center px-5 py-3 text-base font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900">
          ورود به کلاس
          <svg class="w-5 h-5 ms-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
        </a>
      </div>
    </div>
    }

    <div>
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">دوره‌های ثبت‌نام شده</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        @for (course of courses(); track course.id) {
          <div class="bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
            <a [routerLink]="['/course', course.id]">
              <img class="rounded-t-lg" [src]="course.imageUrl" [alt]="course.title" />
            </a>
            <div class="p-5">
              <a [routerLink]="['/course', course.id]">
                <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{{ course.title }}</h5>
              </a>
               <p class="mb-3 font-normal text-gray-500 dark:text-gray-400">استاد: {{course.instructor}}</p>
              <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">{{ course.description }}</p>
              <a [routerLink]="['/course', course.id]" class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                مشاهده دوره
                <svg class="w-3.5 h-3.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                </svg>
              </a>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
}
